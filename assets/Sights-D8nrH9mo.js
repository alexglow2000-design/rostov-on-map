import{u as E,j as e,r as a,b as I}from"./index-BHfeqd0n.js";import{B as M}from"./Banner-Dr-FOfLT.js";import{a as S}from"./index-Bao25kYl.js";import"./Button-Bbz-uM9b.js";const D="_header_1ofe6_1",B="_textHeader_1ofe6_13",H="_sightContaier_1ofe6_21",G="_footer_1ofe6_29",P="_iconWrapper_1ofe6_39",R="_dropDownContainer_1ofe6_53",z="_dropDownList_1ofe6_61",A="_dropDownItem_1ofe6_71",s={header:D,textHeader:B,sightContaier:H,footer:G,iconWrapper:P,dropDownContainer:R,dropDownList:z,dropDownItem:A},y="_sightList_50k1h_1",W="_sightItem_50k1h_13",b="_textSight_50k1h_27",$="_rateBox_50k1h_35",F="_containerColumn_50k1h_49",q="_img_50k1h_59",J="_textGroup_50k1h_67",K="_textRate_50k1h_79",O="_centerIMG_50k1h_87",i={sightList:y,sightItem:W,textSight:b,rateBox:$,containerColumn:F,img:q,textGroup:J,textRate:K,centerIMG:O},Q=({id:l,img:d,title:n,rate:r,location:x})=>{const h=E();return e.jsx("div",{className:i.sightList,onClick:()=>h("/sight/"+l),children:e.jsxs("div",{className:i.sightItem,children:[e.jsxs("div",{className:i.containerColumn,children:[e.jsx("div",{className:i.centerIMG,children:e.jsx("img",{className:i.img,width:197,height:153,src:"http://localhost:5000/"+d,alt:n})}),e.jsx("div",{className:i.textGroup,children:e.jsx("p",{className:i.textSight,children:n})})]}),e.jsx("div",{children:e.jsx("div",{className:i.rateBox,children:e.jsxs("p",{className:i.textRate,children:[r,"/5"]})})}),e.jsx("div",{children:e.jsx("p",{className:i.textSight,children:x})})]})})},T="_linkContainer_z6ab7_1",U="_linkItem_z6ab7_23",V="_linkItemActive_z6ab7_35",X="_forPoiner_z6ab7_47",c={linkContainer:T,linkItem:U,linkItemActive:V,forPoiner:X},Y=({count:l,limit:d,changePage:n,currentPage:r})=>{const x=Math.ceil(l/d),h=[];for(let o=0;o<x;o++)h.push(o+1);return e.jsxs("div",{className:c.linkContainer,children:[r!==1?e.jsx("div",{className:c.forPoiner,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:()=>n(r-1),children:e.jsx("path",{d:"M19 10L1 10M1 10L9.5 1.5M1 10L9.5 18.5",stroke:"#EEEEEE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}):e.jsx("div",{className:c.forPoiner,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("path",{d:"M19 10L1 10M1 10L9.5 1.5M1 10L9.5 18.5",stroke:"#eeeeeea8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}),h.map(o=>e.jsx("p",{className:o===r?c.linkItem:c.linkItemActive,onClick:()=>n(o),children:o},o)),r!==l?e.jsx("div",{className:c.forPoiner,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:()=>n(r+1),children:e.jsx("path",{d:"M1 10L19 10M19 10L10.5 18.5M19 10L10.5 1.5",stroke:"#EEEEEE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}):e.jsx("div",{className:c.forPoiner,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("path",{d:"M1 10L19 10M19 10L10.5 18.5M19 10L10.5 1.5",stroke:"#eeeeeea8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})})]})},Z=a.memo(()=>{const[l]=I(),d=l.get("location")||"Ростов-на-Дону",[n,r]=a.useState([]),[x,h]=a.useState(0),[o,_]=a.useState(!0),[p,j]=a.useState(null),[w,v]=a.useState(d),[u,k]=a.useState(!1),f=1,[g,N]=a.useState(1),L=["Ростов-на-Дону","Москва","Санкт-Петербург","Казань"],C=t=>{console.log(t),N(t),console.log(t)};return a.useEffect(()=>{(async()=>{try{_(!0),j(null);const m=await S(w,f,g);r(m.rows),h(m.count)}catch(m){j(m.message||"Ошибка при загрузке списка достопримечательностей")}finally{_(!1)}})()},[g,w]),o?e.jsx("div",{children:"Загрузка списка достопримечательностей..."}):p?e.jsxs("div",{children:["Ошибка: ",p]}):e.jsxs("div",{className:s.sightContaier,children:[e.jsxs("div",{className:s.header,children:[e.jsx("div",{className:"",children:e.jsx("p",{className:s.textHeader,children:"Культурные объекты"})}),e.jsx("div",{className:"",children:e.jsx("p",{className:s.textHeader,children:"Оценка"})}),e.jsx("div",{className:"",children:e.jsx("p",{className:s.textHeader,children:"Район"})}),e.jsxs("div",{className:s.iconWrapper,onClick:()=>k(t=>!t),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"23",viewBox:"0 0 31 23",fill:"none",children:e.jsx("path",{d:"M2.5 1.75H28.5M12.25 11.5H28.5M22 21.25H28.5",stroke:"#EEEEEE","stroke-width":"3.25","stroke-linecap":"round","stroke-linejoin":"round"})}),u&&e.jsx("div",{className:s.dropDownContainer,children:e.jsx("ul",{className:s.dropDownList,children:L.map(t=>e.jsx("li",{className:s.dropDownItem,onClick:()=>{v(t),k(!1)},children:t},t))})})]})]}),e.jsx("div",{className:s.sightList,children:n&&n.map(t=>e.jsx(Q,{id:t.sight_id,title:t.title,img:t.img,location:t.location,rate:t.rate},t.sight_id))}),e.jsx("div",{className:s.footer,children:e.jsx(Y,{count:x,limit:1,changePage:C,currentPage:g})})]})}),ee="/react-sights/assets/Rectangle%204-3-tz7tmck-.jpg",ne=()=>e.jsxs(e.Fragment,{children:[e.jsx(M,{size:"sm",img:ee,withButton:!1,title:"Открой Ростов по новому",description:""}),e.jsx(Z,{})]});export{ne as default};
