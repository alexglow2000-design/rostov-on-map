import{a as E,u as f,j as t,r as l,d as G}from"./index-Dsvp09Oi.js";import{B}from"./Banner-CHkdaLhP.js";import{a as P,b as D}from"./index-ClgKhjF4.js";import"./Button-C2TYYtfj.js";const $="_header_oq1xy_1",R="_textHeader_oq1xy_13",H="_sightContaier_oq1xy_21",q="_footer_oq1xy_29",b="_iconWrapper_oq1xy_39",A="_dropDownContainer_oq1xy_53",F="_dropDownList_oq1xy_61",W="_dropDownItem_oq1xy_71",i={header:$,textHeader:R,sightContaier:H,footer:q,iconWrapper:b,dropDownContainer:A,dropDownList:F,dropDownItem:W},z="_sightList_1adly_1",J="_sightItem_1adly_13",K="_textSight_1adly_27",O="_rateBox_1adly_35",Q="_containerColumn_1adly_49",T="_img_1adly_59",U="_textGroup_1adly_67",V="_textRate_1adly_79",X="_centerIMG_1adly_87",Y="_locationPlace_1adly_101",n={sightList:z,sightItem:J,textSight:K,rateBox:O,containerColumn:Q,img:T,textGroup:U,textRate:V,centerIMG:X,locationPlace:Y},Z=({id:x,img:m,title:a,rate:r,location:_})=>{const c=E(),{isMobile:s}=f();return t.jsx("div",{className:n.sightList,onClick:()=>c("/sight/"+x),children:t.jsxs("div",{className:n.sightItem,children:[t.jsxs("div",{className:n.containerColumn,children:[t.jsx("div",{className:n.centerIMG,children:t.jsx("img",{className:n.img,width:197,height:153,src:"https://rostov-on-map-api.onrender.com/static/"+m,alt:a})}),t.jsx("div",{className:n.textGroup,children:t.jsx("p",{className:n.textSight,children:a})})]}),!s&&t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsx("div",{className:n.rateBox,children:t.jsxs("p",{className:n.textRate,children:[r,"/5"]})})}),t.jsx("div",{className:n.locationPlace,children:t.jsx("p",{className:n.textSight,children:_})})]})]})})},tt="_linkContainer_1ysbs_1",et="_linkItem_1ysbs_23",st="_linkItemActive_1ysbs_35",it="_forPoiner_1ysbs_47",d={linkContainer:tt,linkItem:et,linkItemActive:st,forPoiner:it},nt=({count:x,limit:m,changePage:a,currentPage:r})=>{const _=Math.ceil(x/m),c=[];for(let s=0;s<_;s++)c.push(s+1);return t.jsxs("div",{className:d.linkContainer,children:[r!==1?t.jsx("div",{className:d.forPoiner,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:()=>a(r-1),children:t.jsx("path",{d:"M19 10L1 10M1 10L9.5 1.5M1 10L9.5 18.5",stroke:"#EEEEEE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}):t.jsx("div",{className:d.forPoiner,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M19 10L1 10M1 10L9.5 1.5M1 10L9.5 18.5",stroke:"#eeeeeea8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}),c.map(s=>t.jsx("p",{className:s===r?d.linkItem:d.linkItemActive,onClick:()=>a(s),children:s},s)),r!==c.length?t.jsx("div",{className:d.forPoiner,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:()=>a(r+1),children:t.jsx("path",{d:"M1 10L19 10M19 10L10.5 18.5M19 10L10.5 1.5",stroke:"#EEEEEE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}):t.jsx("div",{className:d.forPoiner,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M1 10L19 10M19 10L10.5 18.5M19 10L10.5 1.5",stroke:"#eeeeeea8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})})]})},ot="_sightList_lhlid_9",at="_sightItem_lhlid_21",rt="_textSight_lhlid_35",lt="_rateBox_lhlid_45",ct="_containerColumn_lhlid_61",dt="_textGroup_lhlid_77",ht="_textRate_lhlid_95",xt="_centerIMG_lhlid_103",mt="_locationPlace_lhlid_117",_t="_fakeIMG_lhlid_133",o={sightList:ot,sightItem:at,textSight:rt,rateBox:lt,containerColumn:ct,textGroup:dt,textRate:ht,centerIMG:xt,locationPlace:mt,fakeIMG:_t},w=()=>t.jsx(t.Fragment,{children:t.jsx("div",{className:o.sightList,children:t.jsxs("div",{className:o.sightItem,children:[t.jsxs("div",{className:o.containerColumn,children:[t.jsx("div",{className:o.centerIMG,children:t.jsx("div",{className:o.fakeIMG})}),t.jsx("div",{className:o.textGroup,children:t.jsx("p",{className:o.textSight,children:"текст"})})]}),t.jsx("div",{children:t.jsx("div",{className:o.rateBox,children:t.jsx("p",{className:o.textRate,children:"/5"})})}),t.jsx("div",{className:o.locationPlace,children:t.jsx("p",{className:o.textSight,children:"Ростов-на-Дону"})})]})})}),gt=l.memo(()=>{const[x]=G(),m=x.get("location")||"Все",[a,r]=l.useState([]),[_,c]=l.useState(1),[s,u]=l.useState(!0),[v,I]=l.useState(null),[j,L]=l.useState(m),[M,k]=l.useState(!1),p=5,[g,N]=l.useState(1),C=["Все","Железнодорожный","Пролетарский","Советский","Кировский","Ленинский"],{isMobile:y}=f(),S=e=>{N(e)};return l.useEffect(()=>{(async()=>{try{u(!0);let h;j!=="Все"?h=await P(j,p,g):h=await D(p,g),r(h.rows),c(h.count)}catch(h){I(h.message||"Ошибка при загрузке списка достопримечательностей")}finally{u(!1)}})()},[g,j]),v?t.jsxs("p",{children:["Ошибка ",v]}):t.jsxs("div",{className:i.sightContaier,children:[t.jsxs("div",{className:i.header,children:[t.jsx("div",{className:"",children:t.jsx("p",{className:i.textHeader,children:"Культурные объекты"})}),!y&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"",children:t.jsx("p",{className:i.textHeader,children:"Оценка"})}),t.jsx("div",{className:"",children:t.jsx("p",{className:i.textHeader,children:"Район"})})]}),t.jsxs("div",{className:i.iconWrapper,onClick:()=>k(e=>!e),children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"23",viewBox:"0 0 31 23",fill:"none",children:t.jsx("path",{d:"M2.5 1.75H28.5M12.25 11.5H28.5M22 21.25H28.5",stroke:"#EEEEEE","stroke-width":"3.25","stroke-linecap":"round","stroke-linejoin":"round"})}),M&&t.jsx("div",{className:i.dropDownContainer,children:t.jsx("ul",{className:i.dropDownList,children:C.map(e=>t.jsx("li",{className:i.dropDownItem,onClick:()=>{L(e),k(!1),N(1)},children:e},e))})})]})]}),t.jsx("div",{className:i.sightList,children:s?t.jsxs(t.Fragment,{children:[t.jsx(w,{}),t.jsx(w,{}),t.jsx(w,{})]}):t.jsx(t.Fragment,{children:a&&a.map(e=>t.jsx(Z,{id:e.sight_id,title:e.title,img:e.img,location:e.location,rate:e.rate},e.sight_id))})}),t.jsx("div",{className:i.footer,children:t.jsx(nt,{count:_,limit:p,changePage:S,currentPage:g})})]})}),jt="/rostov-on-map/assets/Rectangle%204-3-tz7tmck-.jpg",kt=()=>t.jsxs(t.Fragment,{children:[t.jsx(B,{size:"sm",img:jt,withButton:!1,title:"Открой Ростов по новому",description:""}),t.jsx(gt,{})]});export{kt as default};
