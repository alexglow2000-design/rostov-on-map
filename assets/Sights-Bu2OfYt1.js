import{a as G,u as I,j as t,r,d as B}from"./index-Dk3aU_3F.js";import{B as P}from"./Banner-DsK1nj4V.js";import{a as f}from"./index-C8E2SS66.js";import"./Button-ZxPWRWx_.js";const D="_header_oq1xy_1",$="_textHeader_oq1xy_13",R="_sightContaier_oq1xy_21",H="_footer_oq1xy_29",q="_iconWrapper_oq1xy_39",b="_dropDownContainer_oq1xy_53",F="_dropDownList_oq1xy_61",A="_dropDownItem_oq1xy_71",i={header:D,textHeader:$,sightContaier:R,footer:H,iconWrapper:q,dropDownContainer:b,dropDownList:F,dropDownItem:A},W="_sightList_1adly_1",z="_sightItem_1adly_13",J="_textSight_1adly_27",K="_rateBox_1adly_35",O="_containerColumn_1adly_49",Q="_img_1adly_59",T="_textGroup_1adly_67",U="_textRate_1adly_79",V="_centerIMG_1adly_87",X="_locationPlace_1adly_101",n={sightList:W,sightItem:z,textSight:J,rateBox:K,containerColumn:O,img:Q,textGroup:T,textRate:U,centerIMG:V,locationPlace:X},Y=({id:x,img:m,title:a,rate:l,location:_})=>{const c=G(),{isMobile:s}=I();return t.jsx("div",{className:n.sightList,onClick:()=>c("/sight/"+x),children:t.jsxs("div",{className:n.sightItem,children:[t.jsxs("div",{className:n.containerColumn,children:[t.jsx("div",{className:n.centerIMG,children:t.jsx("img",{className:n.img,width:197,height:153,src:"https://rostov-on-map-api.onrender.com/static/"+m,alt:a})}),t.jsx("div",{className:n.textGroup,children:t.jsx("p",{className:n.textSight,children:a})})]}),!s&&t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsx("div",{className:n.rateBox,children:t.jsxs("p",{className:n.textRate,children:[l,"/5"]})})}),t.jsx("div",{className:n.locationPlace,children:t.jsx("p",{className:n.textSight,children:_})})]})]})})},Z="_linkContainer_1ysbs_1",tt="_linkItem_1ysbs_23",et="_linkItemActive_1ysbs_35",st="_forPoiner_1ysbs_47",d={linkContainer:Z,linkItem:tt,linkItemActive:et,forPoiner:st},it=({count:x,limit:m,changePage:a,currentPage:l})=>{const _=Math.ceil(x/m),c=[];for(let s=0;s<_;s++)c.push(s+1);return t.jsxs("div",{className:d.linkContainer,children:[l!==1?t.jsx("div",{className:d.forPoiner,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:()=>a(l-1),children:t.jsx("path",{d:"M19 10L1 10M1 10L9.5 1.5M1 10L9.5 18.5",stroke:"#EEEEEE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}):t.jsx("div",{className:d.forPoiner,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M19 10L1 10M1 10L9.5 1.5M1 10L9.5 18.5",stroke:"#eeeeeea8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}),c.map(s=>t.jsx("p",{className:s===l?d.linkItem:d.linkItemActive,onClick:()=>a(s),children:s},s)),l!==c.length?t.jsx("div",{className:d.forPoiner,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:()=>a(l+1),children:t.jsx("path",{d:"M1 10L19 10M19 10L10.5 18.5M19 10L10.5 1.5",stroke:"#EEEEEE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}):t.jsx("div",{className:d.forPoiner,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M1 10L19 10M19 10L10.5 18.5M19 10L10.5 1.5",stroke:"#eeeeeea8","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})})]})},nt="_sightList_lhlid_9",ot="_sightItem_lhlid_21",at="_textSight_lhlid_35",lt="_rateBox_lhlid_45",rt="_containerColumn_lhlid_61",ct="_textGroup_lhlid_77",dt="_textRate_lhlid_95",ht="_centerIMG_lhlid_103",xt="_locationPlace_lhlid_117",mt="_fakeIMG_lhlid_133",o={sightList:nt,sightItem:ot,textSight:at,rateBox:lt,containerColumn:rt,textGroup:ct,textRate:dt,centerIMG:ht,locationPlace:xt,fakeIMG:mt},p=()=>t.jsx(t.Fragment,{children:t.jsx("div",{className:o.sightList,children:t.jsxs("div",{className:o.sightItem,children:[t.jsxs("div",{className:o.containerColumn,children:[t.jsx("div",{className:o.centerIMG,children:t.jsx("div",{className:o.fakeIMG})}),t.jsx("div",{className:o.textGroup,children:t.jsx("p",{className:o.textSight,children:"текст"})})]}),t.jsx("div",{children:t.jsx("div",{className:o.rateBox,children:t.jsx("p",{className:o.textRate,children:"/5"})})}),t.jsx("div",{className:o.locationPlace,children:t.jsx("p",{className:o.textSight,children:"Ростов-на-Дону"})})]})})}),_t=r.memo(()=>{const[x]=B(),m=x.get("location")||"Все",[a,l]=r.useState([]),[_,c]=r.useState(1),[s,w]=r.useState(!0),[M,v]=r.useState(null),[g,L]=r.useState(m),[C,u]=r.useState(!1),k=5,[j,N]=r.useState(1),y=["Все","Железнодорожный","Пролетарский","Советский","Кировский","Ленинский"],{isMobile:S}=I(),E=e=>{N(e)};return r.useEffect(()=>{(async()=>{try{w(!0),v(null);let h;g!=="Все"?h=await f(g,k,j):h=await f(),l(h.rows),c(h.count),console.log(M)}catch(h){v(h.message||"Ошибка при загрузке списка достопримечательностей")}finally{w(!1)}})()},[j,g]),t.jsxs("div",{className:i.sightContaier,children:[t.jsxs("div",{className:i.header,children:[t.jsx("div",{className:"",children:t.jsx("p",{className:i.textHeader,children:"Культурные объекты"})}),!S&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"",children:t.jsx("p",{className:i.textHeader,children:"Оценка"})}),t.jsx("div",{className:"",children:t.jsx("p",{className:i.textHeader,children:"Район"})})]}),t.jsxs("div",{className:i.iconWrapper,onClick:()=>u(e=>!e),children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"23",viewBox:"0 0 31 23",fill:"none",children:t.jsx("path",{d:"M2.5 1.75H28.5M12.25 11.5H28.5M22 21.25H28.5",stroke:"#EEEEEE","stroke-width":"3.25","stroke-linecap":"round","stroke-linejoin":"round"})}),C&&t.jsx("div",{className:i.dropDownContainer,children:t.jsx("ul",{className:i.dropDownList,children:y.map(e=>t.jsx("li",{className:i.dropDownItem,onClick:()=>{L(e),u(!1),N(1)},children:e},e))})})]})]}),t.jsx("div",{className:i.sightList,children:s?t.jsxs(t.Fragment,{children:[t.jsx(p,{}),t.jsx(p,{}),t.jsx(p,{})]}):t.jsx(t.Fragment,{children:a&&a.map(e=>t.jsx(Y,{id:e.sight_id,title:e.title,img:e.img,location:e.location,rate:e.rate},e.sight_id))})}),t.jsx("div",{className:i.footer,children:t.jsx(it,{count:_,limit:k,changePage:E,currentPage:j})})]})}),gt="/rostov-on-map/assets/Rectangle%204-3-tz7tmck-.jpg",ut=()=>t.jsxs(t.Fragment,{children:[t.jsx(P,{size:"sm",img:gt,withButton:!1,title:"Открой Ростов по новому",description:""}),t.jsx(_t,{})]});export{ut as default};
